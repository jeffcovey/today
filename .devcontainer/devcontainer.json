{
	"name": "Node.js Today CLI",
	"build": {
		"dockerfile": "Dockerfile"
	},
	"features": {
		"ghcr.io/devcontainers/features/git:1": {},
		"ghcr.io/devcontainers/features/sshd:1": {
			"version": "latest"
		},
		"ghcr.io/tailscale/codespace/tailscale:1": {
			"version": "latest",
			"authkey": "${localEnv:TAILSCALE_AUTHKEY}"
		}
	},
	"customizations": {
		"vscode": {
			"extensions": [
				"ms-vscode.vscode-json"
			]
		}
	},
	"postCreateCommand": "npm install && chmod +x bin/* && npx dotenvx run -- .devcontainer/setup-ssh-keys.sh",
	"postStartCommand": "bash bin/devcontainer-startup",
	"containerEnv": {
		"DEVCONTAINER_HOST_MACHINE": "${localEnv:HOSTNAME}${localEnv:COMPUTERNAME}",
		"DEVCONTAINER_PROJECT": "today"
	},
	"remoteEnv": {
		"PATH": "/home/node/.fly/bin:${containerEnv:PATH}"
	},
	"forwardPorts": [2222, 8081, 8384],
	"portsAttributes": {
		"2222": {
			"label": "SSH",
			"onAutoForward": "notify"
		},
		"8081": {
			"label": "Code Server",
			"onAutoForward": "notify"
		},
		"8384": {
			"label": "Syncthing",
			"onAutoForward": "notify"
		}
	},
	"workspaceFolder": "/workspaces/today"
}
