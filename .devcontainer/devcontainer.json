{
	"name": "Node.js Today CLI",
	"dockerComposeFile": [
		"docker-compose.yml",
		"docker-compose.override.yml"
	],
	"service": "devcontainer",
	"workspaceFolder": "/workspaces/today",
	"initializeCommand": "bash .devcontainer/generate-compose-override.sh || true",
	"features": {
		"ghcr.io/devcontainers/features/git:1": {},
		"ghcr.io/devcontainers/features/sshd:1": {
			"version": "latest"
		}
	},
	"customizations": {
		"vscode": {
			"extensions": [
				"ms-vscode.vscode-json"
			]
		}
	},
	"postCreateCommand": "npm install && chmod +x bin/* && npx dotenvx run --overload -- .devcontainer/setup-ssh-keys.sh",
	"postStartCommand": "bash .devcontainer/devcontainer-startup",
	"containerEnv": {
		"DEVCONTAINER_HOST_MACHINE": "${localEnv:HOSTNAME}${localEnv:COMPUTERNAME}",
		"DEVCONTAINER_PROJECT": "today"
	},
	"remoteEnv": {
		"PATH": "/home/node/.local/bin:/home/node/.fly/bin:${containerEnv:PATH}"
	},
	"forwardPorts": [
		2222,
		8081
	],
	"portsAttributes": {
		"2222": {
			"label": "SSH",
			"onAutoForward": "notify"
		},
		"8081": {
			"label": "Code Server",
			"onAutoForward": "notify"
		}
	}
}
