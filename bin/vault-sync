#!/bin/bash

# Vault Sync Script - Now using Resilio Sync instead of Git
# This script is kept for backwards compatibility and information

# Get the directory where this script lives, then go to parent (project root)
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
PROJECT_DIR="$(cd "$SCRIPT_DIR/.." && pwd)"
VAULT_DIR="$PROJECT_DIR/vault"
SCRIPT_NAME="vault-sync"

# Colors for output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

log() {
    echo -e "${GREEN}[${SCRIPT_NAME}]${NC} $1"
}

error() {
    echo -e "${RED}[${SCRIPT_NAME} ERROR]${NC} $1" >&2
}

warning() {
    echo -e "${YELLOW}[${SCRIPT_NAME} WARNING]${NC} $1"
}

# Main message
log "Vault synchronization has been migrated to Resilio Sync"
echo ""
echo "The vault directory is now synchronized using Resilio Sync, which provides:"
echo "  • Real-time synchronization"
echo "  • Better handling of large files (4.7GB vault)"
echo "  • No commit/push workflow needed"
echo "  • Automatic conflict resolution with versioning"
echo ""
echo "Resilio Sync Web UI:"
echo "  • Local (if running): http://localhost:8888"
echo "  • Droplet: http://167.71.106.64:8889"
echo ""
echo "For more information, see: docs/resilio-sync-setup.md"
echo ""

# If user provided any arguments, inform them about the change
if [ $# -gt 0 ]; then
    warning "Git-based sync commands are no longer available"
    echo "Synchronization now happens automatically through Resilio Sync"
fi

exit 0