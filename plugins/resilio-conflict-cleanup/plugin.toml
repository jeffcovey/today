# Resilio Conflict Cleanup Plugin
# Cleans up sync conflict files created by Resilio Sync

name = "resilio-conflict-cleanup"
displayName = "Resilio Conflict Cleanup"
description = "Clean up sync conflict files created by Resilio Sync"
type = "utility"


longDescription = """
Cleans up sync conflict files created by Resilio Sync.

When Resilio detects a conflict (same file edited on multiple devices), it creates
files with the pattern: `filename.sync-conflict-YYYYMMDD-HHMMSS-XXXXXXX.ext`

This plugin:
1. Finds all `*sync-conflict-*` files in the vault
2. For each conflict file:
   - If original exists and files are identical: deletes the conflict (duplicate)
   - If original exists and conflict is older: deletes the conflict (stale)
   - If original doesn't exist: restores the conflict as the original
   - If files differ and conflict is newer: keeps it for manual review

Run `bin/plugins sync resilio-conflict-cleanup` to clean up conflicts.
"""

[commands]
read = "./read.js"

[settings]
directory = { type = "string", default = "vault", description = "Directory to scan for conflict files" }
