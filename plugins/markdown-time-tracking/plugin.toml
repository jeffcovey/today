# Markdown Time Tracking Plugin
# Syncs local markdown time tracking files to database

name = "markdown-time-tracking"
displayName = "Markdown Time Tracking"
description = "Sync local markdown time tracking files to database"
type = "time-entries"
access = "read-write"

requiredEnv = []

longDescription = """
Syncs time entries from markdown files in your vault to the database.

Time entries are stored in monthly files (e.g., `2025-12.md`) with one entry per line:

```
2025-12-09T09:00:00-05:00|2025-12-09T10:30:00-05:00|Working on project #topic/programming
2025-12-09T14:00:00-05:00|2025-12-09T15:00:00-05:00|Meeting with team #topic/meetings
```

The current timer (if running) is stored in `current-timer.md`.

This plugin reads the markdown files and syncs them to SQLite for querying.
"""

aiInstructions = """
Time tracking data is synced to the `markdown_time_tracking_{source}` table.

To check current activity, read `vault/logs/time-tracking/current-timer.md`.
To see today's entries, read `vault/logs/time-tracking/YYYY-MM.md` for the current month.

Each line in the monthly file is: `START_ISO8601|END_ISO8601|Description #topic/tag`
Example: `2025-12-09T09:00:00-05:00|2025-12-09T10:30:00-05:00|Working on code #topic/programming`
"""

[commands]
sync = "./sync.js"

[configSchema]
days_to_sync = { type = "number", default = 365 }
directory = { type = "string", default = "vault/logs/time-tracking" }
